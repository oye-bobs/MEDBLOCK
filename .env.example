# MEDBLOCK Environment Configuration
# Copy this file to .env and fill in your values

# ============================================
# CARDANO NETWORK CONFIGURATION
# ============================================
CARDANO_NETWORK=preprod
# Options: preprod, preview, mainnet

CARDANO_NODE_SOCKET_PATH=/opt/cardano/ipc/node.socket
# Path to Cardano node socket (inside Docker container)

CARDANO_NETWORK_MAGIC=1
# Network magic number: 1 (preprod), 2 (preview), 764824073 (mainnet)

# ============================================
# CARDANO WALLET CONFIGURATION
# ============================================
SYSTEM_WALLET_MNEMONIC=your 24-word mnemonic phrase here
# System wallet for submitting transactions (keep secure!)

SYSTEM_WALLET_ADDRESS=addr_test1...
# Cardano address for system operations

# ============================================
# DATABASE CONFIGURATION
# ============================================
DB_ENGINE=postgresql
DB_NAME=medblock_db
DB_USER=medblock_user
DB_PASSWORD=change_this_secure_password
DB_HOST=postgres
DB_PORT=5432

# Database encryption key (AES-256)
DB_ENCRYPTION_KEY=generate_a_32_byte_hex_key_here
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"

# ============================================
# ATALA PRISM CONFIGURATION
# ============================================
PRISM_NODE_URL=https://prism-node-preprod.atalaprism.io
# Atala PRISM node endpoint

PRISM_API_KEY=your_prism_api_key_here
# Get from: https://atalaprism.io/

PRISM_DID_METHOD=prism
# DID method identifier

# ============================================
# BACKEND API CONFIGURATION
# ============================================
DJANGO_SECRET_KEY=generate_a_long_random_secret_key_here
# Generate with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"

DJANGO_DEBUG=True
# Set to False in production

ALLOWED_HOSTS=localhost,127.0.0.1
# Comma-separated list of allowed hosts

CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
# Frontend URLs for CORS

# ============================================
# FHIR SERVER CONFIGURATION
# ============================================
FHIR_SERVER_URL=http://localhost:8080/fhir
# External FHIR server (optional, or use built-in)

FHIR_VERSION=R4
# FHIR specification version

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
# Leave empty if no password

# ============================================
# SECURITY CONFIGURATION
# ============================================
JWT_SECRET_KEY=generate_another_secure_key_here
# For JWT token signing

JWT_EXPIRATION_HOURS=24
# Token validity period

HASH_ALGORITHM=SHA256
# Algorithm for medical record hashing

# ============================================
# SMART CONTRACT CONFIGURATION
# ============================================
CONSENT_CONTRACT_ADDRESS=addr_test1...
# Deployed Plutus consent contract address

CLAIMS_CONTRACT_ADDRESS=addr_test1...
# Deployed Marlowe claims contract address

CONTRACT_COLLATERAL_ADA=5
# ADA required for contract execution

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

LOG_FILE_PATH=/var/log/medblock/app.log
# Log file location

# ============================================
# FRONTEND CONFIGURATION
# ============================================
REACT_APP_API_URL=http://localhost:8000
# Backend API endpoint

REACT_APP_CARDANO_NETWORK=preprod
# Must match CARDANO_NETWORK

REACT_APP_BLOCKFROST_API_KEY=your_blockfrost_api_key
# Get from: https://blockfrost.io/

# ============================================
# DEVELOPMENT TOOLS
# ============================================
ENABLE_SWAGGER=True
# Enable API documentation at /docs

ENABLE_ADMIN_PANEL=True
# Enable Django admin at /admin

# ============================================
# PRODUCTION SETTINGS (uncomment for prod)
# ============================================
# DJANGO_DEBUG=False
# CARDANO_NETWORK=mainnet
# CARDANO_NETWORK_MAGIC=764824073
# ENABLE_SWAGGER=False
# SSL_CERTIFICATE_PATH=/etc/ssl/certs/medblock.crt
# SSL_PRIVATE_KEY_PATH=/etc/ssl/private/medblock.key
